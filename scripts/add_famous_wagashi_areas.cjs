// 和菓子が有名な場所にスポットを追加（w-201 ～）
const fs = require('fs');
const path = require('path');

const GENRES = ['mochi','an','nerikiri','baked','sugar','manju','other'];
const TYPES = ['shop','cafe','factory'];

// [都道府県, lng, lat, 名前, 名前読み, 特徴, genre, type]
const FAMOUS_SPOTS = [
  // 京都（京菓子の本場）
  ['京都府',135.774,35.008,'祇園 京菓子 一和','ぎおん きょうがし いちわ','祇園の老舗京菓子。上生菓子が評判。','nerikiri','shop'],
  ['京都府',135.778,35.012,'東山 甘味 花の友','ひがしやま あまみ はなのとも','東山の甘味処。くずきり・あんみつ。','an','cafe'],
  ['京都府',135.785,35.018,'上京 菓子 長久堂','かみぎょう かし ちょうきゅうどう','上京の老舗。季節の生菓子。','nerikiri','shop'],
  ['京都府',135.768,34.992,'四条 茶房 都路里','しじょう さぼう つじり','四条の抹茶スイーツ。','an','cafe'],
  ['京都府',135.772,34.996,'花見小路 京菓子','はなみこうじ きょうがし','花見小路の伝統菓子。','nerikiri','shop'],
  ['京都府',135.518,34.992,'嵯峨 野 菓子処','さがの かしどころ','嵯峨野の和菓子。竹林の里。','other','shop'],
  ['京都府',135.505,34.988,'嵐山 渡月橋 甘味','あらしやま とげつきょう あまみ','渡月橋近くの甘味。','an','cafe'],
  ['京都府',135.778,34.998,'錦 市場 菓子','にしき いちば かし','錦市場の和菓子店。','other','shop'],
  ['京都府',135.770,34.998,'先斗町 京甘味','ぽんとちょう きょうあまみ','先斗町の甘味処。','an','cafe'],
  ['京都府',135.762,34.988,'伏見 桃山 菓子','ふしみ ももやま かし','伏見の和菓子。','other','shop'],
  ['京都府',135.795,35.022,'北山 京菓子','きたやま きょうがし','北山の京菓子。','nerikiri','shop'],
  // 宇治（宇治茶と和菓子）
  ['京都府',135.812,34.892,'宇治 平等院 門前 菓子','うじ びょうどういん もんぜん かし','平等院門前の和菓子。','an','shop'],
  ['京都府',135.808,34.888,'宇治 伊藤久右衛門 参道','うじ いとうきゅうえもん さんどう','宇治参道の抹茶菓子。','an','cafe'],
  ['京都府',135.820,34.895,'宇治 中村藤吉 周辺','うじ なかむらとうきち しゅうへん','宇治茶の老舗周辺。','an','shop'],
  // 金沢（加賀菓子）
  ['石川県',136.628,36.588,'金沢 東茶屋街 懷華楼','かなざわ ひがしちゃやがい かいかろう','東茶屋街の加賀菓子。','sugar','shop'],
  ['石川県',136.662,36.562,'金沢 兼六園 森八','かなざわ けんろくえん もりはち','兼六園周辺の森八。','sugar','shop'],
  ['石川県',136.618,36.572,'金沢 長町 菓子','かなざわ ながまち かし','長町武家屋敷跡の和菓子。','nerikiri','shop'],
  ['石川県',136.640,36.578,'金沢 主計町 茶屋街','かなざわ かずえまち ちゃやがい','主計町茶屋街の甘味。','sugar','cafe'],
  ['石川県',136.652,36.565,'金沢 尾山神社 門前','かなざわ おやまじんじゃ もんぜん','尾山神社門前の菓子。','other','shop'],
  // 奈良（奈良菓子・ならまち）
  ['奈良県',135.832,34.686,'奈良 ならまち 中谷堂','なら ならまち なかたにどう','ならまちの餅。','mochi','shop'],
  ['奈良県',135.828,34.682,'奈良 東向 商店街 菓子','なら ひがしむき しょうてんがい かし','東向商店街の和菓子。','sugar','shop'],
  ['奈良県',135.838,34.692,'奈良 猿沢池 周辺 甘味','なら さるさわいけ しゅうへん あまみ','猿沢池周辺の甘味。','an','cafe'],
  ['奈良県',135.824,34.678,'奈良 春日大社 参道','なら かすがたいしゃ さんどう','春日大社参道の菓子。','other','shop'],
  ['奈良県',135.786,34.682,'奈良 斑鳩 いかるが','なら いかるが いかるが','斑鳩の和菓子。','nerikiri','shop'],
  // 伊勢（赤福・おかげ横丁）
  ['三重県',136.692,34.488,'伊勢 おかげ横丁 赤福 本店前','いせ おかげよこちょう あかふく','おかげ横丁の赤福周辺。','mochi','shop'],
  ['三重県',136.688,34.492,'伊勢 宇治 山田 菓子','いせ うじやまだ かし','伊勢の門前菓子。','manju','shop'],
  ['三重県',136.698,34.485,'伊勢 内宮 門前 甘味','いせ ないくう もんぜん あまみ','内宮門前の甘味。','an','cafe'],
  // 鎌倉
  ['神奈川県',139.552,35.318,'鎌倉 小町 鳩サブレ','かまくら こまち はとさぶれ','小町通りの豊島屋。','baked','shop'],
  ['神奈川県',139.556,35.322,'鎌倉 鶴岡八幡 門前 菓子','かまくら つるがおかはちまん もんぜん かし','鶴岡八幡宮門前の和菓子。','other','shop'],
  ['神奈川県',139.548,35.312,'鎌倉 由比ヶ浜 甘味','かまくら ゆいがはま あまみ','由比ヶ浜周辺の甘味。','an','cafe'],
  ['神奈川県',139.558,35.328,'鎌倉 大仏 前 茶房','かまくら だいぶつ まえ さぼう','大仏前の甘味処。','an','cafe'],
  // 川越（菓子屋横丁）
  ['埼玉県',139.482,35.918,'川越 菓子屋横丁 芋菓子','かわごえ かしやよこちょう いもがし','菓子屋横丁の芋菓子。','baked','shop'],
  ['埼玉県',139.486,35.922,'川越 蔵の街 和菓子','かわごえ くらのまち わがし','蔵の街の和菓子店。','other','shop'],
  ['埼玉県',139.478,35.914,'川越 時の鐘 周辺 菓子','かわごえ ときのかね しゅうへん かし','時の鐘周辺の菓子。','manju','shop'],
  // 松江（松江菓子）
  ['島根県',133.048,35.472,'松江 殿町 松江菓子','まつえ とのまち まつえかし','殿町の松江菓子。','sugar','shop'],
  ['島根県',133.058,35.468,'松江 塩見縄手 茶房','まつえ しおみなわて さぼう','塩見縄手の甘味。','an','cafe'],
  ['島根県',133.038,35.478,'松江 城山 下 菓子処','まつえ じょうざん した かしどころ','松江城下の和菓子。','nerikiri','shop'],
  // 博多・太宰府
  ['福岡県',130.524,33.518,'太宰府 参道 梅ヶ枝餅','だざいふ さんどう うめがえもち','太宰府参道の梅ヶ枝餅。','baked','shop'],
  ['福岡県',130.536,33.522,'太宰府 天満宮 門前 菓子','だざいふ てんまんぐう もんぜん かし','天満宮門前の菓子。','other','shop'],
  ['福岡県',130.398,33.588,'博多 祇園 甘味','はかた ぎおん あまみ','博多祇園の甘味。','an','cafe'],
  ['福岡県',130.418,33.592,'博多 駅前 菓子','はかた えきまえ かし','博多駅周辺の和菓子。','manju','shop'],
  // 広島・宮島
  ['広島県',132.458,34.398,'広島 本通 もみじ饅頭','ひろしま ほんとおり もみじまんじゅう','本通りのもみじ饅頭。','manju','shop'],
  ['広島県',132.322,34.298,'宮島 表参道 菓子','みやじま おもてさんどう かし','宮島表参道の焼きがき。','baked','shop'],
  ['広島県',132.318,34.294,'宮島 紅葉 もみじ饅頭','みやじま もみじ もみじまんじゅう','宮島のもみじ饅頭本舗。','manju','shop'],
  // 小樽
  ['北海道',141.006,43.196,'小樽 堺町 北一 菓子','おたる さかいまち きたいち かし','堺町通りの菓子。','other','shop'],
  ['北海道',141.008,43.198,'小樽 運河 甘味','おたる うんが あまみ','運河沿いの甘味処。','an','cafe'],
  // 東京（浅草・日本橋・銀座）
  ['東京都',139.698,35.688,'浅草 仲見世 菓子','あさくさ なかみせ かし','仲見世通りの和菓子。','an','shop'],
  ['東京都',139.694,35.692,'浅草 雷門 前 甘味','あさくさ かみなりもん まえ あまみ','雷門前の甘味。','an','cafe'],
  ['東京都',139.772,35.682,'日本橋 老舗 菓子','にほんばし しにせ かし','日本橋の老舗和菓子。','an','shop'],
  ['東京都',139.764,35.672,'人形町 甘味','にんぎょうちょう あまみ','人形町の甘味処。','mochi','cafe'],
  ['東京都',139.712,35.674,'銀座 京菓子','ぎんざ きょうがし','銀座の京菓子店。','nerikiri','shop'],
  ['東京都',139.768,35.678,'東京 駅 グランル 菓子','とうきょう えき ぐらんる かし','東京駅グランル地下の和菓子。','other','shop'],
  // 高山
  ['岐阜県',137.252,36.148,'高山 古い町並 菓子','たかやま ふるいまちなみ かし','古い町並の和菓子。','other','shop'],
  ['岐阜県',137.248,36.152,'高山 三町 甘味','たかやま さんまち あまみ','三町の甘味処。','an','cafe'],
  // 長崎
  ['長崎県',129.878,32.752,'長崎 グラバー園 カステラ','ながさき ぐらばーえん かすてら','グラバー園周辺のカステラ。','baked','shop'],
  ['長崎県',129.882,32.748,'長崎 浜町 菓子','ながさき はままち かし','浜町の長崎菓子。','baked','shop'],
  // 松山（道後・坊っちゃん団子）
  ['愛媛県',132.772,33.848,'松山 道後 坊っちゃん団子','まつやま どうご ぼっちゃんだんご','道後の坊っちゃん団子。','mochi','shop'],
  ['愛媛県',132.768,33.844,'松山 大街道 菓子','まつやま おおかいどう かし','大街道の和菓子。','other','shop'],
  // 高松（和三盆）
  ['香川県',134.042,34.338,'高松 栗林公園 和三盆','たかまつ りつりんこうえん わさんぼん','栗林公園周辺の和三盆。','sugar','shop'],
  ['香川県',133.552,34.318,'高松 琴平 和三盆','たかまつ ことひら わさんぼん','琴平の和三盆。','sugar','shop'],
  // その他有名スポット
  ['滋賀県',135.872,35.008,'大津 石山寺 門前 菓子','おおつ いしやまでら もんぜん かし','石山寺門前の和菓子。','other','shop'],
  ['兵庫県',135.198,34.692,'神戸 北野 風月','こうべ きたの ふうげつ','北野の風月焼。','baked','shop'],
  ['大阪府',135.508,34.668,'大阪 道頓堀 きびだんご','おおさか どうとんぼり きびだんご','道頓堀のきびだんご。','mochi','shop'],
  ['京都府',135.758,34.986,'京都 駅  Porta 京菓子','きょうと えき ぽーた きょうがし','京都駅地下の京菓子。','nerikiri','shop'],
  ['京都府',135.782,35.004,'京都 二条 菓子','きょうと にじょう かし','二条城周辺の和菓子。','other','shop'],
];

let startId = 201;
const newFeatures = FAMOUS_SPOTS.map((row, i) => {
  const [pref, lng, lat, name, nameReading, characteristics, genre, type] = row;
  return {
    type: 'Feature',
    geometry: { type: 'Point', coordinates: [lng, lat] },
    properties: {
      id: 'w-' + (startId + i),
      genre,
      name,
      name_reading: nameReading,
      prefecture: pref,
      address: pref + name.split(' ')[0],
      type,
      characteristics,
      source: 'curated',
    },
  };
});

const jsonPath = path.join(__dirname, '../src/data/japan_wagashi.json');
const data = JSON.parse(fs.readFileSync(jsonPath, 'utf8'));
data.features = data.features.concat(newFeatures);
fs.writeFileSync(jsonPath, JSON.stringify(data), 'utf8');
console.log('Added', newFeatures.length, 'famous area spots. Total:', data.features.length);
